<%= form_with model: sales_product, local: true, class: 'needs-validation', novalidate: true do |form| %>
  <% if sales_product.errors.any? %>
    <div class="alert alert-danger">
      <h6 class="alert-heading">Please fix the following errors:</h6>
      <ul class="mb-0">
        <% sales_product.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="row">
    <div class="col-md-6 mb-3">
      <%= form.label :name, 'Product Name *', class: 'form-label' %>
      <%= form.text_field :name, class: 'form-control', required: true %>
      <div class="invalid-feedback">Please provide a product name.</div>
    </div>

    <div class="col-md-6 mb-3">
      <%= form.label :category, class: 'form-label' %>
      <%= form.text_field :category, class: 'form-control', placeholder: 'e.g., Electronics' %>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6 mb-3">
      <%= form.label :purchase_price, 'Purchase Price *', class: 'form-label' %>
      <div class="input-group">
        <span class="input-group-text">₹</span>
        <%= form.number_field :purchase_price, step: 0.01, min: 0, class: 'form-control', required: true %>
      </div>
    </div>

    <div class="col-md-6 mb-3">
      <%= form.label :sales_price, 'Sales Price *', class: 'form-label' %>
      <div class="input-group">
        <span class="input-group-text">₹</span>
        <%= form.number_field :sales_price, step: 0.01, min: 0, class: 'form-control', required: true %>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-4 mb-3">
      <%= form.label :measuring_unit, class: 'form-label' %>
      <%= form.text_field :measuring_unit, class: 'form-control', value: sales_product.measuring_unit || 'PCS' %>
    </div>

    <div class="col-md-4 mb-3">
      <%= form.label :opening_stock, class: 'form-label' %>
      <%= form.number_field :opening_stock, class: 'form-control', min: 0, required: true %>
    </div>

    <div class="col-md-4 mb-3">
      <%= form.label :current_stock, class: 'form-label' %>
      <%= form.number_field :current_stock, class: 'form-control', min: 0, required: true %>
    </div>
  </div>

  <div class="mb-3 form-check">
    <%= form.check_box :enable_serialization, class: 'form-check-input' %>
    <%= form.label :enable_serialization, 'Enable Serialization', class: 'form-check-label' %>
  </div>

  <div class="mb-3">
    <%= form.label :description, class: 'form-label' %>
    <%= form.text_area :description, class: 'form-control', rows: 4, placeholder: 'Enter description if any...' %>
  </div>

  <div class="d-flex justify-content-between">
    <%= link_to 'Cancel', sales_products_path, class: 'btn btn-secondary' %>
    <%= form.submit class: 'btn btn-primary' %>
  </div>
<% end %>
